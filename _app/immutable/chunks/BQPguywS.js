import{n as L,a9 as O,aa as S,U as V,Q as P,e as k,ab as E,K as Y,ac as R,ad as j,ae as q,af as T,ag as g,ah as D,C as x,J as p,ai as $,aj as B,ak as F,al as J,am as K,an as Q,ao as U,H as W,m as b,ap as z,aq as G,T as X,F as Z,ar as aa}from"./BUfPBPwR.js";const ea=["touchstart","touchmove"];function ta(a){return ea.includes(a)}const ra=new Set,A=new Set;let M=null;function m(a){var e=this,n=e.ownerDocument,l=a.type,i=a.composedPath?.()||[],t=i[0]||a.target;M=a;var d=0,c=M===a&&a.__root;if(c){var u=i.indexOf(c);if(u!==-1&&(e===document||e===window)){a.__root=e;return}var _=i.indexOf(e);if(_===-1)return;u<=_&&(d=u)}if(t=i[d]||a.target,t!==e){L(a,"currentTarget",{configurable:!0,get(){return t||n}});var w=P,o=k;O(null),S(null);try{for(var r,s=[];t!==null;){var h=t.assignedSlot||t.parentNode||t.host||null;try{var f=t["__"+l];if(f!=null&&(!t.disabled||a.target===t))if(V(f)){var[H,...I]=f;H.apply(t,[a,...I])}else f.call(t,a)}catch(y){r?s.push(y):r=y}if(a.cancelBubble||h===e||h===null)break;t=h}if(r){for(let y of s)queueMicrotask(()=>{throw y});throw r}}finally{a.__root=e,delete a.currentTarget,O(w),S(o)}}}function oa(a,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(a.__t??=a.nodeValue)&&(a.__t=n,a.nodeValue=n+"")}function na(a,e){return C(a,e)}function ia(a,e){E(),e.intro=e.intro??!1;const n=e.target,l=b,i=p;try{for(var t=Y(n);t&&(t.nodeType!==R||t.data!==j);)t=q(t);if(!t)throw T;g(!0),D(t),x();const d=C(a,{...e,anchor:t});if(p===null||p.nodeType!==R||p.data!==$)throw B(),T;return g(!1),d}catch(d){if(d===T)return e.recover===!1&&F(),E(),J(n),g(!1),na(a,e);throw d}finally{g(l),D(i),z()}}const v=new Map;function C(a,{target:e,anchor:n,props:l={},events:i,context:t,intro:d=!0}){E();var c=new Set,u=o=>{for(var r=0;r<o.length;r++){var s=o[r];if(!c.has(s)){c.add(s);var h=ta(s);e.addEventListener(s,m,{passive:h});var f=v.get(s);f===void 0?(document.addEventListener(s,m,{passive:h}),v.set(s,1)):v.set(s,f+1)}}};u(K(ra)),A.add(u);var _=void 0,w=Q(()=>{var o=n??e.appendChild(U());return W(()=>{if(t){G({});var r=X;r.c=t}i&&(l.$$events=i),b&&Z(o,null),_=a(o,l)||{},b&&(k.nodes_end=p),t&&aa()}),()=>{for(var r of c){e.removeEventListener(r,m);var s=v.get(r);--s===0?(document.removeEventListener(r,m),v.delete(r)):v.set(r,s)}A.delete(u),o!==n&&o.parentNode?.removeChild(o)}});return N.set(_,w),_}let N=new WeakMap;function da(a,e){const n=N.get(a);return n?(N.delete(a),n(e)):Promise.resolve()}export{ia as h,na as m,oa as s,da as u};
